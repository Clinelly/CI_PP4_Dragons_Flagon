# The Dragon's Flagon | Gaming Tavern

![Am I Responsive]()

**Developer: Stuart Wall**

ðŸ’» [Visit live website](https://ci-pp4-dragons-flagon-clinelly.herokuapp.com/)



## Table of Contents
  - [About](#about)
  - [User Goals](#user-goals)
  - [Site Owner Goals](#site-owner-goals)
  - [User Experience](#user-experience)
  - [User Stories](#user-stories)
  - [Design](#design)
    - [Colours](#colours)
    - [Fonts](#fonts)
    - [Structure](#structure)
      - [Website pages](#website-pages)
      - [Database](#database)
    - [Wireframes](#wireframes)
  - [Technologies Used](#technologies-used)
  - [Features](#features)
  - [Validation](#validation)
  - [Testing](#testing)
    - [Manual testing](#manual-testing)
    - [Automated testing](#automated-testing)
    - [Tests on various devices](#tests-on-various-devices)
    - [Browser compatibility](#browser-compatibility)
  - [Bugs](#bugs)
  - [Heroku Deployment](#heroku-deployment)
  - [Credits](#credits)
  - [Acknowledgements](#acknowledgements)

### About
The Dragon's Flagon is a fantasy-themed tavern. It was designed primarily as a social spot for people to eat, drink, make merry and play a variety of tabletop/card/boardgames.

<hr>

### User Goals


### Site Owner Goals


<hr>


## User Experience

### Target Audience

### User Requirements and Expectations



##### Back to [top](#table-of-contents)<hr>


## User Stories

### Users






### Admin / Authorised User



### Site Owner  


### Kanban, Epics & User Stories


<details><summary>Epics</summary>

![Epics]()

</details>

<details><summary>User Stories</summary>

![User stories]()

</details>

<details><summary>Kanban</summary>

![Kanban finish]()

</details>


##### Back to [top](#table-of-contents)<hr>


## Design

### Colours
[Coolors.co](https://coolors.co/)

### Fonts

### Structure

#### Website pages

#### Database
Database schema created by using [django-extensions](https://django-extensions.readthedocs.io/en/latest/graph_models.html), pydot and [GraphVizOnline](https://dreampuf.github.io/GraphvizOnline/)

<details><summary>Show diagram</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/database.png">
</details>


##### User Model


### Wireframes
The wireframes were created using Balsamiq
<details><summary></summary>
<img src="">
</details>


## Technologies Used

### Languages & Frameworks

- HTML
- CSS
- Javascript
- Python
- Django


### Libraries & Tools

- [Am I Responsive](http://ami.responsivedesign.is/)
- [Balsamiq](https://balsamiq.com/)
- [Bootstrap v5.2](https://getbootstrap.com/)
- [Cloudinary](https://cloudinary.com/)
- [Favicon.io](https://favicon.io)
- [Chrome dev tools](https://developers.google.com/web/tools/chrome-devtools/)
- [Font Awesome](https://fontawesome.com/)
- [Git](https://git-scm.com/)
- [GitHub](https://github.com/)
- [Google Fonts](https://fonts.google.com/)
- [Heroku Platform](https://id.heroku.com/login)
- [Postgres](https://www.postgresql.org/)
- [ElephantSQL](https://www.elephantsql.com/)
- [Summernote](https://summernote.org/)
- Validation:
  - [WC3 Validator](https://validator.w3.org/)
  - [Jigsaw W3 Validator](https://jigsaw.w3.org/css-validator/)
  - [Pycodestyle(PEP8)](https://pep8ci.herokuapp.com/)
  - [Lighthouse](https://developers.google.com/web/tools/lighthouse/)
  - [Wave Validator](https://wave.webaim.org/)

##### Back to [top](#table-of-contents)


## Features

### Home page



##### Back to [top](#table-of-contents)
<hr>


## Validation

The W3C Markup Validation Service was usd to validate the HTML code used in the templates. All templates returned clear with no warnings or errors.

<details><summary>Index Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/index.png">
</details>

<details><summary>Review Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/review_page.png">
</details>


<details><summary>About Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/about.png">
</details>

<details><summary>Gallery Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/gallery.png">
</details>

<details><summary>Gallery Detail Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/gallery_detail.png">
</details>

<details><summary>Contact Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/contact.png">
</details>

<details><summary>Food Menu Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/food_menu.png">
</details>

<details><summary>Events Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/event_page.png">
</details>

<details><summary>Create Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/create_event.png">
</details>

<details><summary>Edit Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/edit_event.png">
</details>

<details><summary>Delete Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/delete_event.png">
</details>

<details><summary>Game List Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/game_list.png">
</details>

<details><summary>Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/booking.png">
</details>

<details><summary>Booking Submit Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/booking_submit.png">
</details>

<details><summary>Booking Submit (Time) Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/booking_submit_time.png">
</details>

<details><summary>Edit Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/edit_booking.png">
</details>

<details><summary>Edit Booking (Time) Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/edit_booking_time.png">
</details>

<details><summary>Delete Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/delete_booking.png">
</details>

<details><summary>User Panel Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/html/user_panel.png">
</details>

<hr>


### CSS Validation
The W3C Jigsaw CSS Validation Service was used to validate the CSS file used in the project. The CSS file returned clear with no errors or warnings.

<details><summary>Style.css</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/css.png">
</details>
<hr>

### JavaScript Validation
There are no custom JavaScript files in this project.


### PEP8 Validation
Code Institute's Python Linter App was used to check the validation of the Python code, as PEP8online is unavailable.
All custom python files reported as clear with no errors or issues.

<hr><summary>Tavern</summary><hr>

<details><summary>Admin.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Tavern/tavern-admin-py.png">
</details>

<details><summary>Models.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Tavern/tavern-models-py.png">
</details>

<details><summary>Urls.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Tavern/tavern-urls-py.png">
</details>

<details><summary>Views.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Tavern/tavern-views-py.png">
</details>

<details><summary>Forms.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Tavern/tavern-forms-py.png">
</details>

<hr><summary>Booking</summary><hr>

<details><summary>Admin.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Booking/booking-admin-py.png">
</details>

<details><summary>Models.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Booking/booking-models-py.png">
</details>

<details><summary>Urls.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Booking/booking-urls-py.png">
</details>

<details><summary>Views.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Booking/booking-views-py.png">
</details>

<hr><summary>Contact</summary><hr>

<details><summary>Admin.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Contact/contact-admin-py.png">
</details>

<details><summary>Models.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Contact/contact-models-py.png">
</details>

<details><summary>Urls.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Contact/contact-urls-py.png">
</details>

<details><summary>Views.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Contact/contact-views-py.png">
</details>

<details><summary>Forms.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Contact/contact-forms-py.png">
</details>


<hr><summary>Events</summary><hr>

<details><summary>Admin.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-admin-py.png">
</details>

<details><summary>Models.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-models-py.png">
</details>

<details><summary>Urls.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-urls-py.png">
</details>

<details><summary>Views.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-views-py.png">
</details>

<details><summary>Forms.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-forms-py.png">
</details>

<details><summary>Utils.py</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Events/events-utils-py.png">
</details>

### Lighthouse

Page Performance, Accessibility, Best Practice and SEO were tested using Google Lighthouse.
<br>
All templates scored above 90 on Performance and SEO. All Templates scored 83 on Best Practice due to issues Google raised with certain images, cookies and manifests.

<details><summary>Index Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/index.png">
</details>

<details><summary>Review Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/review_page.png">
</details>


<details><summary>About Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/about.png">
</details>

<details><summary>Gallery Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/gallery.png">
</details>

<details><summary>Gallery Detail Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/gallery_detail.png">
</details>

<details><summary>Contact Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/contact.png">
</details>

<details><summary>Food Menu Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/food_menu.png">
</details>

<details><summary>Events Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/event_page.png">
</details>

<details><summary>Create Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/create_event.png">
</details>

<details><summary>Edit Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/edit_event.png">
</details>

<details><summary>Delete Event Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/delete_event.png">
</details>

<details><summary>Game List Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/game_list.png">
</details>

<details><summary>Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/booking.png">
</details>

<details><summary>Booking Submit Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/booking_submit.png">
</details>

<details><summary>Booking Submit (Time) Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/booking_submit_time.png">
</details>

<details><summary>Edit Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/edit_booking.png">
</details>

<details><summary>Edit Booking (Time) Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/edit_booking_time.png">
</details>

<details><summary>Delete Booking Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/delete_booking.png">
</details>

<details><summary>User Panel Page</summary>
<img src="/workspace/CI_PP4_Dragons_Flagon/docs/validation/Lighthouse/user_panel.png">
</details>

<hr>

### Wave
WAVE was used to test the websites accessibility.


##### Back to [top](#table-of-contents)<hr>


## Testing

1. Manual testing
2. Automated testing

### Manual testing


**Step** | **Expected Result** | **Actual Result**
------------ | ------------ | ------------ |
| |  |


### Automated testing




### Device Testing & Browser compatibility




##### Back to [top](#table-of-contents)<hr>


## Bugs

| **Bug** | **Fix** |
| ------- | ------- |
| |  |


##### Back to [top](#table-of-contents)<hr>


### Heroku Deployment

[Official Page](https://devcenter.heroku.com/articles/git) (Ctrl + click)
This application has been deployed from Github using Heroku. Here's how:

1. Create an account at heroku.com

2. Create an app. Give it a name such as ci-pp4-dragons-flagon (note: the name must be unique) and select a region. I set mine to Europe.

Heroku now charges for access to it's native postgres resources. I set up my project with [ElephantSQL](https://www.elephantsql.com/)

3. Go to elephantsql.com and create an account.

4. Go to your dashboard.

5. Select 'New Instance'.

6. Set up your plan: 
  - Give it a name (typically your project name)
  - Select the Tiny Turtle (free) package.
  - The Tags field can be left blank.

7. Select a Region (ideally, a data center located near you).

8. Click 'Review'.

9. Check your details are correct and click 'Create Instance'.

10. Return to the dashboard and click on the database instance name.

11. In the URL section, copy the URL to your clipboard.

12. Copy the database URL to your env.py file. It can also be set as an environmental variable in Heroku.

13. Install the plugins dj-database-url and psycopg2.

14. Run pip3 freeze > requirements.txt so both are added to the requirements.txt file.

15. Create a Procfile with the text: web: gunicorn dragonsflagon.wsgi.

16. In the settings.py ensure the connection is to the ElephantSQL database.

17. Ensure debug is set to false in the settings.py file.

18. Add localhost, and ci-pp4-dragons-flagon-clinelly.herokuapp.com to the ALLOWED_HOSTS variable in settings.py.

19. Run "python3 manage.py showmigrations" to check the status of the migrations.

20. Run "python3 manage.py migrate" to migrate the database.

21. Run "python3 manage.py createsuperuser" to create a super/admin user.

22. Install gunicorn and add it to the requirements.txt file using the command pip3 freeze > requirements.txt.

23. Disable collectstatic in Heroku before any code is pushed using the command heroku config:set DISABLE_COLLECTSTATIC=1 -a ci-pp4-dragons-flagon-clinelly.

24. Set the Config Vars in the Heroku app:
  - Your Elephant SQL Database.
  - Port 8000.
  - Your secret key.

25. Connect the app to GitHub, and enable automatic deploys from main if desired.

26. Click deploy to deploy your application to Heroku for the first time.

27. Click on the link provided to access the application.

28. If you encounter any issues accessing the build logs is a good way to troubleshoot the issue.
<hr>

### Fork Repository
In order to fork the repository, you must:

- Go to the GitHub repository.
- Click on 'Fork' button in upper right hand corner.
- Select 'Create new fork' from the drop-down menu
<hr>

### Clone Repository
You can clone the repository by following these steps:
- Going to the GitHub repository.
- Clicking the 'Code' button, loacted above the file list.
- Selecting if you prefer to clone using either HTTPS, SSH, or Github CLI.
- Clicking the copy button to copy the URL to your clipboard.
- Opening Git Bash.
- Changing the current working directory to one where you want to clone the directory to.
- Typing 'git clone' and pasting the URL from the clipboard ($ git clone https://github.com/YOUR-USERNAME/YOUR-REPOSITORY)
- Pressing 'Enter' to create your local clone.

The repository can be found here - https://github.com/Clinelly/CI_PP4_Dragons_Flagon

##### Back to [top](#table-of-contents)<hr>


## Credits

### Images
[Dragonâ€™s Flagon logo](https://ih1.redbubble.net/image.1434837373.0468/flat,750x,075,f-pad,750x1000,f8f8f8.jpg)
Designed and sold on [Redbubble](https://www.redbubble.com/) by [Carl Huber](https://www.redbubble.com/people/carlhuber/shop)

Board Game Images were taken from [BoardGameGeek](https://boardgamegeek.com/)

Tavern Hero Image taken from [DDOPlayers](https://ddoplayers.com/2021/11/25/immersive-dd-inspired-restaurant-and-amusement-center-planned-in-lake-geneva/)

### Code
The code for the Events app was inspired by and modified from a tutorial by [Hui Wen]( https://www.huiwenteo.com/normal/2018/07/24/django-calendar.html)

The code for the Booking app was inspired by and modified from a tutorial by [John Abdsho Khosrowabadi](https://blog.devgenius.io/django-tutorial-on-how-to-create-a-booking-system-for-a-health-clinic-9b1920fc2b78)

The code for writing tests was inspired by a YouTube tutorial on testing by [The Dumbfounds](https://www.youtube.com/playlist?list=PLbpAWbHbi5rMF2j5n6imm0enrSD9eQUaM)

[Code Institute's](https://codeinstitute.net/) Hello Django and I Think Therefore I Blog walkthrough challenges.

[Stack Overflow](https://stackoverflow.com/) helped with answering niche questions.

[Django Documentation](https://docs.djangoproject.com/en/4.1/)

[Bootstrap Documentation](https://getbootstrap.com/docs/5.3/getting-started/introduction/)

##### Back to [top](#table-of-contents)<hr>

## Acknowledgements

### Special thanks to the following:
- My beautiful wife Megan, who's love and support has kept me going.
- My mentor Mo Shami who continually pushes me to be a better developer.
- Code Institute's fantastic tutor team, who are the fountain of all knowledge.
- The class of June '22, for their humour and insight.